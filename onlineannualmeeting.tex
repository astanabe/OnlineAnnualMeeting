\documentclass[titlepage,10pt,a4paper,uplatex]{jsbook}

\usepackage[utf8]{inputenc}

\usepackage[T1]{fontenc}

\usepackage[uplatex,deluxe]{otf}

\usepackage[noto]{pxchfon}

\setcounter{tocdepth}{3}

\usepackage[round,colon,authoryear]{natbib}

\usepackage[dvipdfmx, hiresbb]{graphicx, xcolor}

\usepackage{grffile}

\usepackage[%
dvipdfm,%
pdfstartview={FitH -32768},%    描画領域の幅に合わせる
bookmarks=true,%                しおり付き
bookmarksnumbered=false,%        章や節の番号をふる
bookmarkstype=toc,%             目次情報のファイル.tocを参照
colorlinks=true,%              ハイパーリンクを色文字に
linkcolor=black,%       link の枠の色 black
citecolor=black,%       cite の枠の色 black
urlcolor=black,%        url の枠の色 black
pdftitle={WordPressによる学会オンライン大会サイト構築法},%
pdfauthor={田辺晶史},
pdfkeywords={学会, 大会, 年会, 運営, 構築}%
]{hyperref}

\usepackage{pxjahyper}

\usepackage{amsmath,amssymb}

\AtBeginDocument{
  \abovedisplayskip     =0.5\abovedisplayskip
  \abovedisplayshortskip=0.5\abovedisplayshortskip
  \belowdisplayskip     =0.5\belowdisplayskip
  \belowdisplayshortskip=0.5\belowdisplayshortskip}

\usepackage{newtxtext,newtxmath}

\usepackage{textcomp}

\usepackage[prefernoncjk]{pxcjkcat}

\cjkcategory{sym18,grek}{cjk}

\usepackage{url}

\usepackage{booktabs}

\usepackage{multirow}

\usepackage{threeparttable}

\usepackage{longtable}

\usepackage{lineno}

\usepackage{lscape}

\title{WordPressによる学会オンライン大会サイト構築法}
\author{田辺晶史}
\date{\today}

%\renewcommand{\baselinestretch}{1.2}
\renewcommand{\prepartname}{第}
\renewcommand{\postpartname}{部}
\renewcommand{\prechaptername}{第}
\renewcommand{\postchaptername}{章}
\renewcommand{\presectionname}{}% 第
\renewcommand{\postsectionname}{}% 節
\renewcommand{\contentsname}{目次}
\renewcommand{\listfigurename}{図目次}
\renewcommand{\listtablename}{表目次}
\renewcommand{\refname}{引用文献}
\renewcommand{\bibname}{引用文献}
\renewcommand{\indexname}{索引}
\renewcommand{\figurename}{図}
\renewcommand{\tablename}{表}
\renewcommand{\appendixname}{付録}

\usepackage{float}
\usepackage{framed}
\definecolor{shadecolor}{gray}{0.9}
\newenvironment{content}{\begin{shaded}\vspace{-1em}\raggedright\ttfamily\footnotesize\setlength{\baselineskip}{1.4em}}{\end{shaded}\vspace{-1em}}
\newenvironment{pre}{\begin{leftbar}\raggedright\ttfamily\footnotesize\setlength{\baselineskip}{1.4em}}{\end{leftbar}\vspace{-1em}}
\newenvironment{cmd}{\begin{oframed}\raggedright\ttfamily\footnotesize\setlength{\baselineskip}{1.4em}}{\end{oframed}\vspace{-1em}}

\setlength{\textwidth}{\fullwidth}
\setlength{\evensidemargin}{\oddsidemargin}
\addtolength{\evensidemargin}{-2.5 true mm}
\addtolength{\oddsidemargin}{2.5 true mm}

\makeatletter
\renewcommand{\chapter}{%
  \if@openright\cleardoublepage\else\clearpage\fi
  \global\@topnum\z@
  \secdef\@chapter\@schapter}
\makeatother

\renewcommand{\textbf}[1]{{\bfseries\sffamily#1}}

\begin{document}
\thispagestyle{empty}
\maketitle
\cleardoublepage
\pagenumbering{roman}
\tableofcontents
\cleardoublepage
\setlength{\parindent}{0em}
\setlength{\parskip}{1em plus 0.2em}
\parindent=0em
\parskip=1em plus 0.2em
\pagenumbering{arabic}

\chapter*{はじめに}
\addcontentsline{toc}{chapter}{はじめに}

本書はクリエイティブ・コモンズの表示-継承 4.0 国際ライセンスの下で配布します。
このライセンスの下では、原著作者の明示を行う限り、利用者は自由に本書を複製・頒布・展示することができます。
また、原著作者の明示と本ライセンスまたは互換性のあるライセンスの適用を行う限り、本書を改変した二次著作物の作成・配布も自由に行うことができます。
詳しい使用許諾条件を見るには\\
\href{https://creativecommons.org/licenses/by-sa/4.0/}{https://creativecommons.org/licenses/by-sa/4.0/}\\
をチェックするか、クリエイティブ・コモンズに郵便にてお問い合わせ下さい。
住所は Creative Commons, PO Box 1866, Mountain View, CA 94042, USA です。

本書が皆さんの役に立つことができましたら幸いです。
この機会を与えて下さった環境DNA学会、個体群生態学会の皆さんと、本書をお読みの皆さんに感謝します。

\chapter{各種サービスの契約}

本書では、WordPressホスティングをKinsta、電子メール配信をSendGrid、オンデマンド動画の参加者からの収集はDropbox、オンデマンド動画配信はVimeo、リアルタイム動画配信はZoomを使用すると想定しています。
必ずしもこれらのサービスでなくてはいけないわけではありませんが、コストパフォーマンスとスケーラビリティの面でこれら以上のサービスは現状では存在しないと思います。
Kinstaはお金さえ積めば「落ちない」Webサイト運営ができ、SendGridでは同様に事実上青天井のメール配信ができます。
Dropboxは、アップロードされた動画ファイルをVimeoに直接アップロードすることができるので、参加者からの動画ファイルの収集とVimeoへのアップロードに便利です。
Vimeoは動画の配信には制限がありません(保存容量には上限がある)。
Zoomは配信・閲覧用アプリが普及していてウェビナーの参加者数上限が非常に大きい利点があります。
実はVimeoでもリアルタイム動画配信が可能ですが、ライブ配信用アプリを別途ホスト側がインストールしなければならない上、遠隔講演者数がPremiumプランで5人、Enterpriseプランで10人までという制限があり、アプリの操作にホストや遠隔講演者が慣れていないので、Zoomをおすすめします。
講演者が1ヶ所に集まって、オンラインでもその様子を配信する、というような用途ならVimeoは向いています。
なお、オンデマンド動画を使用しないならDropboxとVimeoは不要ですし、リアルタイム動画配信をしないならZoomも不要です。

また、\textbf{学会で独自のドメイン名を保有しており、DNS設定が可能であること、学会または代表者または担当者名義のクレジットカードがあることも前提}となります。
SendGridのログインには二要素認証が必要なため、そのためのスマートフォンやタブレットも必要となります。
独自ドメイン名を保有していない場合は、Value-domainやさくらインターネット、お名前.comなどで取得して下さい(どこでも構いませんが、さくらインターネットをおすすめします)。
ここでは、保有ドメイン名が\texttt{hogehoge.hoge}、オンライン大会サイト用サブドメインが\texttt{meeting2021.hogehoge.hoge}と仮定して進めます。
また、オンライン大会管理者用メールアドレスは\texttt{meeting2021@hogehoge.hoge}と仮定しますので、管理者に依頼してメールアカウントを作成しておいて下さい。
独自ドメイン名を保有しておらず、独自ドメイン名のWebサイトもメールアドレスもない場合、さくらインターネットのレンタルサーバおよびドメインを契約するのがおすすめです。
これは、\texttt{hogehoge.hoge}のドメイン名をさくらインターネットで取得し、\texttt{hogehoge.hoge}のWebサイト\url{http://hogehoge.hoge/}もさくらのレンタルサーバ上に設置するということです。
ただし、このWebサイトをKinstaで作成することも可能ですので、その場合はメールボックスプランを選び、独自ドメイン名とメールアドレスだけさくらインターネットを利用すればいいでしょう。
Kinstaはディスク容量があまり多くないため、\url{https://meeting2021.hogehoge.hoge/}をKinstaに、\url{http://hogehoge.hoge/}は別のホスティング業者に任せた方がいいと思います。
なお、さくらインターネットのレンタルサーバは、アクセスが集中するとアクセス制限がかかってしまうので、オンライン大会サイト運営には向いていません。
それに対して、Kinstaはお金さえ払えばいくらアクセスが集中しても問題ありません。
さくらインターネットでもクラウドを契約すればウェブアクセラレータという機能で同様のことが可能ですが、設定がやや複雑です(料金も従量課金なのでお金さえ払えばアクセス制限は発生しないはずです)。
独自ドメイン名取得、レンタルサーバ、クラウドの全てをさくらインターネットに統一すれば、ウェブアクセラレータは\href{https://manual.sakura.ad.jp/cloud/webaccel/manual/tips-settings-webaccel-for-rs.html}{公式マニュアル}の通りに設定するだけで使用可能です。
さくらのレンタルサーバにはコンテンツブーストという機能もありますが、利用の条件が厳しく、\texttt{meeting2021.hogehoge.hoge}というドメインでは利用できません。
参加人数100名以下の小規模な集会であれば、さくらインターネットのレンタルサーバとリソースブーストという機能で十分対応可能だろうと思いますが、万が一アクセス制限が開催期間中に適用されてしまった場合、オンライン大会サイトにアクセスできなくなりますので、おすすめはしません。
さくらインターネットを使用する場合、ドメインの取得・設定、SSLの導入・設定、WordPressの導入は公式マニュアルを参照して下さい。

ここで想定しているオンライン大会参加者数は数百人程度です。
本稿ではWordPressサイト上でのユーザー管理をローカルのCSVファイルとCSVファイルをインポートできるWordPressプラグインで行う想定をしており、ここが最大のボトルネックとなります。
というのも、このWordPressプラグインでは100人を超えた辺りでCSVのインポートに長時間を要するようになるためです。
CSVを分割して100人程度ずつインポートするようにすればより多くの参加者にも対応可能なのですが、数千人規模になると操作担当者が少々苦労することになります。
データを格納するMySQLデータベースを直接操作するスキルがあればこの問題も解決しますので、理論上は数千人やそれ以上の参加者にも対応は可能です。

\section{Kinstaとの契約と設定}

「\href{https://kinsta.com/jp/plans/}{プラン一覧のページ}」を表示し、プランを選択して「選ぶ」を押して下さい。
メールアドレス、姓、名、パスワードを入力して「続く」を押し、次のページで契約する法人名あるいは個人名と所在地、クレジットカード情報を入力して「完了」を押すと契約完了です。
プランは月額100米ドルのBUSINESS 1以上にして下さい。
これは、STARTERやPROプランでは、PHPワーカー数が少ないため会員制サイトの構築の際にパフォーマンスが不足する可能性があるためです。
また、ディスク容量が不足する場合は、十分な容量になるまでプランを上位のものに変えて下さい。
無料CDN転送容量、月間訪問数は上限を超えれば従量課金になるので、とりあえずBUSINESS 1にしておけばいいでしょう。
ただし、学会大会程度でものすごい金額になることはまずないとは思いますが、従量課金は青天井なので注意は必要です。
不安があるなら大会の開催期間だけENTERPRISE 1以上のプランにしましょう。

Kinstaとの契約が完了すると、「\href{https://my.kinsta.com/login/?lang=jp}{MyKinsta}」にログインできるようになります。
Webサイトを作成するには、MyKinstaにログインして、「サイト」メニューから「サイトを追加」を選択します。
「WordPressをインストール」を選択し、「ドメイン名」は\texttt{meeting2021.hogehoge.hoge} (ただし、DNSのAレコードは契約した業者に依頼して編集する必要がある。後述)、「サイトの名前」は短めのわかりやすいタイトルを付けます(Hogehoge Meeting 2021など)。
「ロケーション」は参加者の多い地域を選びます(通常はTokyo)。
「WordPressサイトタイトル」は短めのわかりやすいタイトルを付けて下さい(サイトの名前と同じで構いません)。
「WordPressの管理者のユーザー名」はAdministratorなどの適当な管理者アカウント名を入力します。
「WordPressの管理者のパスワード」は自動生成されたものが入力されているはずなので、そのままで構いません(ただしどこかにメモしておいて下さい)。
「WordPressの管理者の電子メール」は主管理担当者のメールアドレス、つまり\texttt{meeting2021@hogehoge.hoge}とします。
「言語」はEnglish (US)を推奨します。
その他のチェックボックスは全て外しておきます。
「追加」を押すとWebサイトが追加されます(数分程度かかります)。

Webサイトの追加後、「サイト」メニュー内の追加したサイトを選択し、追加したサイトの設定を行います。
まず、「ドメイン」メニューを選択してサイト作成時に指定したドメインがドメインのリストにあり、プライマリドメインが適切に設定されていることを確認します。
ドメイン登録業者に依頼して、DNSのAレコードを「情報」メニューの「サイトのIPアドレス」にあるIPアドレスに設定する必要があります(ドメイン登録業者によって方法は異なりますが、Webサイトにログインしてメニューから手続きすることがほとんどです)。
DNSレコードが適切に設定できると、\url{http://meeting2021.hogehoge.hoge/}にアクセスすることでWebサイトが表示されるはずですので、確認します。
Webサイトが表示できない場合は、DNSレコードの設定を見直します(なお、DNSレコードの設定は反映に多少時間がかかることがあります)。
この時点ではhttpsが有効化されていませんので、「ツール」メニューの「SSL証明書」欄で「無料のSSL証明書を生成する」を選択すればSSLを有効化できます(Let's encryptによる無料証明書が発行、インストールされ、自動更新されるよう設定されます)。
SSL証明書の生成後、「強制HTTPS」欄のグレーアウトが解除されるので、「有効にする」を押してhttpを無効化して完全https化します。
あとはKinsta CDNの有効化が必要ですが、後述するWordPressの設定が全て完了するまでは無効化しておく方がいいと思います。

\section{SendGridとの契約と設定}

日本の代理店である構造計画研究所の「\href{https://sendgrid.kke.co.jp/app?p=signup.index}{新規会員登録のページ}」を開き、メールアドレスを入力して「確認メールを送信する」を押します。
すると、メールアドレスに構造計画研究所からメールが届くので、その中に書いてあるURLにアクセスします。
契約者情報といくつかの質問に対する回答を入力して送信すると、数日中にログイン用の情報が送られてきます。
質問には、以下のように回答します。

\begin{description}
\item[質問1 どういった用途で利用されますか？ : ] 自社の社内システム、個人で使用しているツール
\item[質問2 どのようなメールを送信されますか？ : ] トランザクションメール（通知メールなど）
\item[質問3 誰に対してメールを送信しますか？ : ] 自分・知人（サークルやコミュニティの関係者など）・自社内の関係者
\item[質問4 誰のメールを送信しますか？ : ] 自分自身のメール・自社社員、自社のメール・自社システムの通知メール（問合せフォームの受付完了通知など）
\item[質問5 メール送信時に指定する予定のFromアドレスをご記入ください : ] \texttt{meeting2021@hogehoge.hoge}
\item[質問6 月間送信通数 : ] 参加者数×100～1000程度を入力
\item[質問7 利用用途の詳細 : ] WordPressで構築した学会コミュニティサイトから、サイト会員への通知メールの送信に利用する
\item[質問8 備考欄 : ] 空欄
\end{description}

登録時にはFreeプランでまず登録され、その後にログインして「\href{https://sendgrid.kke.co.jp/app?p=mypage.creditcard}{クレジットカード情報登録}」を行い、「\href{https://sendgrid.kke.co.jp/app?p=mypage.plan}{プラン変更}」で有料プランに移行します。
プランは月額10,000円のPro 100k以上のプランで契約して下さい。
これ未満のプランでは、他の契約者と共用のIPアドレスからメールが送信されますが、他の契約者が迷惑メールを送信してブラックリストに登録されてしまうと、学会の送信したメールも受信拒否されてしまったりする問題が起きます。
Pro 100k以上のプランでは、契約者ごとに固有のIPアドレスが付与されるため、他の契約者の行為の影響を受けなくなります。
念のため、二要素認証は有効化しておきましょう。

SendGridの設定は「\href{https://sendgrid.kke.co.jp/app?p=login.index}{ログインページ}」からログインして、「SendGridダッシュボードへ」を押してダッシュボードページから行います。
「Settings」内の「Mail Settings」および「Tracking」を開いて、全ての設定を「Disabled」にしておきましょう。
デフォルトでは、送信メール内のURLを、各ユーザーがアクセスしたかどうかを確認できる転送URLに置換する機能などが有効になっていると思います。
また、メールがしっかり届くようにするため、ドメイン認証の有効化を行います。
この手続方法は構造計画研究所の「\href{https://sendgrid.kke.co.jp/docs/Tutorials/D_Improve_Deliverability/using_whitelabel.html}{独自ドメインを利用する}」を参照して行って下さい。
ここではDomain AuthenticationとReverse DNSだけ設定すればよく、Link Brandingは不要です。
Domain AuthenticationとReverse DNSの設定を行うことで、メールを受け取るサーバに受信拒否されにくくなります。

上記の設定が終わったら、WordPressから送信するためのAPIキーの作成を行います。
SendGridダッシュボードにアクセスし、「Settings」内の「API Keys」を表示します。
「Create API Key」を押してAPIキー作成メニューに入ります。
「API Key Name」は適当な名前を付けます(WordPressMailとかでいいでしょう)。
「API Keys Permissions」は「Restricted Access」を選択し、「Mail Send」のスイッチを入れて、「Create \& View」を押すと、発行されたAPIキーが表示されますので、どこかにメモしておきます。
「Done」を押すと表示が消えて二度と表示されませんのでご注意下さい。
APIキーを忘れてしまった場合、作成したAPIキーを削除し、再度作成する手続きを行って下さい。

\chapter{WordPressの設定}

オンライン大会サイトのドメインが\texttt{meeting2021.hogehoge.hoge}の場合、\url{https://meeting2021.hogehoge.hoge/wp-admin/}にアクセスすることでログイン画面に入ることができます。
MyKinstaで設定した「WordPressの管理者のユーザー名」と「WordPressの管理者のパスワード」を使ってログインし、ダッシュボード\url{https://meeting2021.hogehoge.hoge/wp-admin/}を表示して下さい。

次に左サイドバーから「Posts→All Posts」を表示し、全ての投稿のチェックボックスにチェックを入れて、「Bulk actions→Move to Trash→Apply」で一旦全ての投稿を削除します。
「Pages→All Pages」でも同様に全ての固定ページを削除します。

\section{テーマのインストール}

左サイドバーの「Appearance→Themes」を表示し、上部の「Add New」ボタンを押すと、新しいテーマを追加する画面になりますので、検索ボックスにテーマ名などのキーワードを入力すれば該当するテーマがリストアップできます。
WordPress純正テーマでは「Twenty Sixteen」がおすすめです。
他のテーマも含めると「Sparkling」がいいでしょう。
これ以降では「Sparkling」をインストールしたと仮定して進めます。

\section{プラグインのインストール}

左サイドバーから「Plugins→Installed Plugins」を選択します。
全てのプラグインの左チェックボックスにチェックを入れて、「Bulk actions→Delete→Apply」で一旦全てのプラグインを削除します。
次に、「Plugins→Add New」から下記のプラグインをインストールします。
Keyword欄に入力すればリストアップされますが、紛らわしい名前のプラグインが多数あるので注意して下さい。
また、検索キーワードと一致度が高い名前のプラグインが優先的に表示されるわけではないようです。
Activateは一括で行うので、検索→Install Now→検索→・・・と次々にインストールを行っていきます。

\begin{itemize}
\item All In One WP Security \& Firewall
\item BuddyPress
\item BuddyPress Members only
\item Mass Messaging in BuddyPress
\item bbPress
\item bbp style pack
\item Content Control
\item Democracy Poll
\item Inline Image Upload for BBPress
\item GD bbPress Attachments
\item No Right Click Images Plugin
\item Protect Uploads
\item FancyBox for WordPress
\item Post SMTP Mailer/Email Log
\item Import and export users and customers
\item Peter's Login Redirect
\item Resend Welcome Email
\item SB Welcome Email Editor
\item Custom Login Page Customizer
\item WP Multibyte Patch
\end{itemize}

次に、左サイドバーから「Plugins→Installed Plugins」を表示し、全てのプラグインの左チェックボックスにチェックを入れて、「Bulk actions→Activate→Apply」で全てのプラグインを有効化します。
ただ、「Mass Messaging in BuddyPress」は非常に古くてメンテナンスされておらず、有効化するとエラーが出ることがあるので、使用するときのみ有効化し、普段は無効化しておいた方がいいでしょう。

\section{SFTPでのファイルアップロード}

さらにいくつかのファイルをWordPressに手動で追加する必要があります。
KinstaはFTPをサポートしていないため、SFTPを使用してアップロードします。
KinstaへのSFTPの接続方法は、\href{https://kinsta.com/jp/knowledgebase/how-to-use-sftp/}{公式の知識ベース}に説明がありますので参照して下さい。
アップロードするファイルと場所は以下の通りです。

\begin{description}
\item[\href{https://github.com/astanabe/OnlineAnnualMeeting/blob/main/bp-custom.php}{bp-custom.php} : ] \texttt{wp-content/plugins/}
\item[\href{https://github.com/astanabe/OnlineAnnualMeeting/blob/main/resend-welcome-email-to-allusers.php}{resend-welcome-email-to-allusers.php} : ] \texttt{wp-content/mu-plugins/}
\item[\href{https://github.com/astanabe/OnlineAnnualMeeting/blob/main/resend-welcome-email-to-nologinusers.php}{resend-welcome-email-to-nologinusers.php} : ] \texttt{wp-content/mu-plugins/}
\end{description}

いずれのファイルも、\url{https://github.com/astanabe/OnlineAnnualMeeting}に置いてあります。

\section{WordPress設定}

\subsection{一般設定}

左サイドバーの「Settings→General」を表示します。
以下のように設定して下さい。

\begin{description}
\item[Site Title : ] Hogehoge Meeting 2021
\item[Tagline : ] 空欄
\item[WordPress Address (URL) : ] \url{https://meeting2021.hogehoge.hoge}
\item[Site Address (URL) : ] \url{https://meeting2021.hogehoge.hoge}
\item[Administration Email Address : ] \texttt{meeting2021@hogehoge.hoge}
\item[Membership: Anyone can register : ] チェックを外す
\item[New User Default Role : ] Subscriber
\item[Site Language : ] English (United States)
\item[Timezone : ] Tokyo
\item[Date Format : ] Y-m-d
\item[Time Format : ] H:i
\item[Week Starts On : ] Monday
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Settings→Writing」を以下のように設定します。

\begin{description}
\item[Default Post Category : ] Uncategorized
\item[Default Post Format : ] Standard
\item[Mail Server : ] そのまま
\item[Login Name : ] そのまま
\item[Password : ] そのまま
\item[Default Mail Category : ] そのまま
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Pages→Add New」で新しい固定ページの編集画面に入ります。
「Add title」と表示されているところに「Frontpage」と入力し、本文は空のままか、とりあえず仮の内容を書いて、右上の「Publish」を2回押して公開し、左上のWordPressロゴマークを押してダッシュボードに戻ります。
左サイドバーの「Settings→Reading」を以下のように設定します。

\begin{description}
\item[Your homepage displays : ] A static page (select below)
\item[Homepage : ] Frontpage
\item[Posts page : ] そのまま
\item[Blog pages show at most : ] 10
\item[Syndication feeds show the most recent : ] 10
\item[For each post in a feed, include : ] Full text
\item[Search engine visibility: Discourage search engines from indexing this site : ] チェックを入れる
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Settings→Discussion」を以下のように設定します。

\begin{description}
\item[Default post settings: Attempt to notify any blogs linked to from the post : ] チェックを外す
\item[Default post settings: Allow link notifications from other blogs (pingbacks and trackbacks) on new posts : ] チェックを外す
\item[Default post settings: Allow people to submit comments on new posts : ] チェックを外す
\item[Other comment settings: Comment author must fill out name and email : ] チェックを入れる
\item[Other comment settings: Users must be registered and logged in to comment : ] チェックを入れる
\item[Other comment settings: Automatically close comments on posts older than 14 days : ] チェックを外す
\item[Other comment settings: Show comments cookies opt-in checkbox, allowing comment author cookies to be set : ] チェックを入れる
\item[Other comment settings: Enable threaded (nested) comments X levels deep : ] チェックを入れてXを5にする
\item[Other comment settings: Break comments into pages with 50 top level comments per page... : ] チェックを外す
\item[Other comment settings: Comments should be displayed with the X comments at the top of each page : ] Xをolderにする
\item[Email me whenever: Anyone posts a comment : ] チェックを外す
\item[Email me whenever: A comment is held for moderation : ] チェックを入れる
\item[Before a comment appears: Comment must be manually approved : ] チェックを外す
\item[Before a comment appears: Comment author must have a previously approved comment : ] チェックを外す
\item[Comment Moderation: Hold a comment in the queue if it contains X or more links : ] Xを50にする
\item[Comment Moderation: When a comment contains any of these words in its content... : ] 空欄
\item[Disallowed Comment Keys: When a comment contains any of these words in its content... : ] 空欄
\item[Avatar Display: Show Avatars : ] チェックを入れる
\item[Maximum Rating : ] G — Suitable for all audiences
\item[Default Avatar : ] Retro (Generated)
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Settings→Media」を以下のように設定します。

\begin{description}
\item[Thumbnail size: Width : ] 600
\item[Thumbnail size: Height : ] 600
\item[Medium size: Max Width : ] 900
\item[Medium size: Max Height : ] 1200
\item[Large size: Max Width : ] 1200
\item[Large size: Max Height : ] 1600
\item[Uploading Files: Organize my uploads into month- and year-based folders : ] チェックを入れる
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Settings→Permalinks」を以下のように設定します。

\begin{description}
\item[Common Settings : ] Post name
\item[Optional: Category base : ] 空欄
\item[Optional: Tag base : ] 空欄
\end{description}

「Save Changes」を押して設定を保存し、左サイドバーの「Settings→Privacy」を表示し、「Create a new Privacy Policy Page」の横にある「Create」ボタンを押します。
自動的にデフォルトのプライバシーポリシーページが作成されますので、ひとまずそのままで右上の「Publish」を2回押して公開し、左上のWordPressロゴマークを押してダッシュボードに戻ります。

\subsection{GD bbPress Attachmentsの設定}

左サイドバーの「Forums→Attachments」を以下のように設定します。

\begin{description}
\item[Settings: Global Attachments Settings: Maximum file size : ] 10240 KB
\item[Settings: Global Attachments Settings: Maximum files to upload : ] 2 at once
\item[Settings: Global Attachments Settings: Hide attachments : ] From visitorsのチェックを外す
\item[Settings: Users Upload Restrictions: Allow upload to : ] Blocked以外の全てのチェックを入れる
\item[Settings: Topic and Reply Deleting: Attachments Action : ] Delete
\item[Settings: JavaScript and CSS Settings: Always Include : ] チェックを入れる
\item[Settings: Forums Integration: Attachment Icon : ] チェックを入れる
\item[Settings: Forums Integration: File Type Icons : ] チェックを入れる
\item[Images: Display of image attachments: Activated : ] チェックを外す
\item[Images: Display of image attachments: With caption : ] チェックを外す
\item[Images: Display of image attachments: Inline : ] チェックを外す
\item[Advanced: Error logging: Activated : ] チェックを入れる
\item[Advanced: Error logging: Visible to administrators : ] チェックを入れる
\item[Advanced: Error logging: Visible to moderators : ] チェックを入れる
\item[Advanced: Error logging: Visible to author : ] チェックを入れる
\item[Advanced: Deleting attachments: Administrators : ] Allow both delete and detach
\item[Advanced: Deleting attachments: Moderators : ] Allow both delete and detach
\item[Advanced: Deleting attachments: Author : ] Allow both delete and detach
\end{description}

「Save Changes」を押して設定を保存します。

\subsection{All In One WP Security \& Firewallの設定}

まず、左サイドバーの「WP Security→User Login」を以下のように設定します。

\begin{description}
\item[Login Lockdown Options: Enable Login Lockdown Feature : ] チェックを入れる
\item[Login Lockdown Options: Allow Unlock Requests : ] チェックを外す
\item[Login Lockdown Options: Max Login Attempts : ] 5
\item[Login Lockdown Options: Login Retry Time Period (min) : ] 5
\item[Login Lockdown Options: Time Length of Lockout (min) : ] 60
\item[Login Lockdown Options: Display Generic Error Message : ] チェックを外す
\item[Login Lockdown Options: Instantly Lockout Invalid Usernames : ] チェックを外す
\item[Login Lockdown Options: Instantly Lockout Specific Usernames : ] チェックを外す
\item[Login Lockdown Options: Notify By Email : ] チェックを外す
\end{description}

「Save Settings」を押して設定を保存します。
次に、左サイドバーの「WP Security→Firewall」を以下のように設定します。

\begin{description}
\item[Basic Firewall Rules: Basic Firewall Settings: Enable Basic Firewall Protection : ] チェックを入れる
\item[Basic Firewall Rules: Basic Firewall Settings: Max File Upload Size (MB) : ] 11
\item[Basic Firewall Rules: Basic Firewall Rules: WordPress XMLRPC \& Pingback Vulnerability Protection... : ] チェックを入れる
\item[Basic Firewall Rules: WordPress XMLRPC \& Pingback Vulnerability Protection: Disable Pingback Functionality... : ] チェックを入れる
\item[Basic Firewall Rules: Block Access to Debug Log File: Block Access to debug.log File : ] チェックを入れる
\end{description}

「Save Basic Firewall Settings」を押して設定を保存します。
次に、左サイドバーの「WP Security→Brute Force」を以下のように設定します。
タブごとに「Save Settings」を押して設定を保存します。

\begin{description}
\item[Login Captcha: Login Form Captcha Settings: Enable Captcha On Login Page : ] チェックを入れる
\item[Login Captcha: Login Password Form Captcha Settings: Enable Captcha On Lost Password Page : ] チェックを入れる
\item[Login Captcha: Custom Login Form Captcha Settings: Enable Captcha On Custom Login Form : ] チェックを入れる
\item[Honeypot: Login Form Honeypot Settings: Enable Honeypot On Login Page : ] チェックを入れる
\end{description}

\subsection{BuddyPress Members onlyの設定}

左サイドバーの「Buddypress Members Only→Buddypress Members Only」を以下のように設定します。

\begin{description}
\item[Register Page URL : ] \url{https://meeting2021.hogehoge.hoge/wp-login.php}
\item[Opened Page URLs : ] \url{https://meeting2021.hogehoge.hoge/wp-login.php}
\item[Redirect Logged in Users to : ] チェックを外す
\item[Only Protect My Buddypress Pages : ] チェックを外す
\item[Temporarily Turn Off All Featrures : ] チェックを外す
\item[Enable Page Level Protect : ] チェックを入れる
\item[Custom / Hide WordPress Login Link : ] 空欄
\end{description}

「Submit」を押して設定を保存します。

登録ユーザーでない方のアクセス権限管理は、本プラグインで行います。
登録ユーザーの「Role」に基づくアクセス権限管理はContent Controlプラグインで行うことになります。

\subsection{Custom Login Page Customizerの設定}

ダッシュボード左サイドバーの「Appearance→Login Customizer」を押して表示されるページで、ログイン画面のデザインをカスタマイズし、「Publish」を押します。
筆者は「Logo」を選んで「Disable Logo?」を有効化し、ロゴを消すようにしています。
終わったら左上の「×」を押して設定画面から出ます。

\subsection{Post SMTP Mailer/Email Logの設定}

左サイドバーの「Post SMTP→Post SMTP」を表示させ、「Show All Settings」から設定画面に入り、以下のように設定します。
タブごとに「Save Changes」を押して設定を保存します。

\begin{description}
\item[Account: Transport: Type : ] SendGrid API
\item[Account: Transport: Mailer Type : ] PostSMTP
\item[Account: Authentication: API Key : ] SendGridから発行されたAPIキー
\item[Fallback: Failed emails fallback: Use Fallback? : ] Yes
\item[Fallback: Failed emails fallback: Outgoing Mail Server : ] \texttt{hogehoge.hoge}のSMTPサーバ
\item[Fallback: Failed emails fallback: Mail Server Port : ] SMTPサーバに合わせる
\item[Fallback: Failed emails fallback: Security : ] SMTPサーバに合わせる
\item[Fallback: Failed emails fallback: From Email : ] \texttt{meeting2021@hogehoge.hoge}
\item[Fallback: Failed emails fallback: Use SMTP Authentication? : ] SMTPサーバに合わせる
\item[Fallback: Failed emails fallback: User name : ] SMTPサーバに合わせる
\item[Fallback: Failed emails fallback: Password : ] SMTPサーバに合わせる
\item[Message: From Address: Email Address : ] \texttt{meeting2021@hogehoge.hoge}
\end{description}

\subsection{Peter's Login Redirectの設定}

左サイドバーの「Settings→Login/logout redirects」を以下のように設定します。
変更ごとに「Update」を押して設定を保存する必要があります。

\begin{description}
\item[Specific users : ] そのまま
\item[Specific roles : ] そのまま
\item[Specific levels : ] そのまま
\item[All other users: URL : ] \url{https://meeting2021.hogehoge.hoge/members/[variable]username[/variable]/profile/}
\item[All other users: Logout URL : ] \url{https://meeting2021.hogehoge.hoge/}
\item[Post-registration: URL : ] \url{https://meeting2021.hogehoge.hoge/members/[variable]username[/variable]/profile/}
\item[Customize plugin settings: Allow a POST or GET "redirect\_to" variable to take redirect precedence : ] No
\item[Customize plugin settings: Allow a POST or GET "redirect\_to" logout variable to take redirect precedence : ] No
\end{description}

\subsection{BuddyPressの設定}

左サイドバーの「Settings→BuddyPress」を以下のように設定します。
タブごとに「Save Settings」を押して設定を保存します。

\begin{description}
\item[Components: Extended Profiles : ] チェックを入れる
\item[Components: Account Settings : ] チェックを入れる
\item[Components: Friend Connections : ] チェックを入れる
\item[Components: Private Messaging : ] チェックを入れる
\item[Components: Activity Streams : ] チェックを入れる
\item[Components: Notifications : ] チェックを入れる
\item[Components: User Groups : ] チェックを入れる
\item[Components: Site Tracking : ] チェックを入れる
\item[Options: Toolbar: Show the Toolbar for logged out users : ] チェックを入れる
\item[Options: Account Deletion: Allow registered members to delete their own accounts : ] チェックを外す
\item[Options: Template Pack : ] BuddyPress Nouveau
\item[Options: Profile Photo Uploads: Allow registered members to upload avatars : ] チェックを入れる
\item[Options: Cover Image Uploads: Allow registered members to upload cover images : ] チェックを入れる
\item[Options: Profile Syncing: Enable BuddyPress to WordPress profile syncing : ] チェックを入れる
\item[Options: Group Creation: Enable group creation for all users : ] チェックを外す
\item[Options: Group Photo Uploads: Allow customizable avatars for groups : ] チェックを外す
\item[Options: Group Cover Image Uploads: Allow customizable cover images for groups : ] チェックを外す
\item[Options: Post Comments: Allow activity stream commenting on posts and comments : ] チェックを外す
\item[Options: Activity auto-refresh: Automatically check for new items while viewing the activity stream : ] チェックを入れる
\item[Pages: Members : ] Members
\item[Pages: Activity Streams : ] Activity
\item[Pages: User Groups : ] Groups
\end{description}

\subsection{bbPressの設定}

左サイドバーの「Settings→Forums」を以下のように設定します。

\begin{description}
\item[Forum User Settings: Roles: Automatically give registered visitors the X forum role : ] チェックを入れてXをParticipantにする
\item[Forum User Settings: Flooding: Allow flood protection by throttling users for X seconds after posting : ] チェックを入れてXを10にする
\item[Forum User Settings: Editing: Allow users to edit their content for X minutes after posting : ] チェックを入れてXを99999にする
\item[Forum User Settings: Anonymous: Allow guest users without accounts to create topics and replies : ] チェックを外す
\item[Forum Features: Auto-embed links: Embed media (YouTube, Twitter, Flickr, etc...) directly into topics and replies : ] 
\item[Forum Features: Reply Threading: Enable threaded (nested) replies X levels deep : ] チェックを入れる
\item[Forum Features: Revisions: Allow topic and reply revision logging : ] チェックを入れてXを5にする
\item[Forum Features: Favorites: Allow users to mark topics as favorites : ] チェックを入れる
\item[Forum Features: Subscriptions: Allow users to subscribe to forums and topics : ] チェックを入れる
\item[Forum Features: Engagements: Allow tracking of topics each user engages in : ] チェックを入れる
\item[Forum Features: Topic tags: Allow topics to have tags : ] チェックを入れる
\item[Forum Features: Search: Allow forum wide search : ] チェックを入れる
\item[Forum Features: Post Formatting: Add toolbar \& buttons to textareas to help with HTML formatting : ] チェックを入れる
\item[Forum Features: Forum Moderators: Allow forums to have dedicated moderators : ] チェックを入れる
\item[Forum Features: Super Moderators: Allow Moderators and Keymasters to edit users : ] チェックを外す
\item[Forum Theme Packages: Current Package: X will serve all bbPress templates : ] XをbbPress Defaultにする
\item[Topics and Replies Per Page: Topics: X per page : ] Xを100にする
\item[Topics and Replies Per Page: Replies: X per page : ] Xを100にする
\item[Topics and Replies Per RSS Page: Topics: X per page : ] Xを100にする
\item[Topics and Replies Per RSS Page: Replies: X per page : ] Xを100にする
\item[Forum Root Slug: Forum Root : ] forums
\item[Forum Root Slug: Forum Prefix: Prefix all forum content with the Forum Root slug (Recommended) : ] チェックを入れる
\item[Forum Root Slug: Forum root should show : ] Forum Index
\item[Forum Single Slugs: Forum : ] forum
\item[Forum Single Slugs: Topic : ] topic
\item[Forum Single Slugs: Topic Tag : ] topic-tag
\item[Forum Single Slugs: Topic View : ] view
\item[Forum Single Slugs: Reply : ] reply
\item[Forum Single Slugs: Edit : ] edit
\item[Forum Single Slugs: Search : ] search
\item[Forum User Slugs: User Base : ] users
\item[Forum User Slugs: Topics Started : ] topics
\item[Forum User Slugs: Replies Created : ] replies
\item[Forum User Slugs: Favorite Topics : ] favorites
\item[Forum User Slugs: Subscriptions : ] subscriptions
\item[Forum User Slugs: Engagements : ] engagements
\item[Forum Integration for BuddyPress: Group Forums: Allow BuddyPress Groups to have their own forums : ] チェックを外す
\item[Forum Integration for BuddyPress: Use X to contain your group forums, or create a new one : ] そのまま
\end{description}

「Save Changes」を押して設定を保存します。

\subsection{FancyBox for WordPressの設定}

左サイドバーの「Settings→Fancybox for WP」を以下のように設定します。
タブごとに「Save Settings」を押して設定を保存します。

\begin{description}
\item[Appearance: Close Button : ] 有効
\item[Appearance: Toolbar : ] 有効
\item[Appearance: Border : ] 無効
\item[Appearance: Padding : ] そのまま
\item[Appearance: Overlay Options : ] 有効
\item[Appearance: Title : ] 無効
\item[Appearance: Hide caption : ] 有効
\item[Appearance: Navigation Arrows : ] 有効
\item[Animations: Zoom Options : ] 有効
\item[Animations: Animation Type: Animation type when opening FancyBox : ] fade
\item[Animations: Animation Type: Speed in miliseconds of the FancyBox opening animation : ] 500
\item[Animations: Animation between slides Options: Select Animation type for the slides : ] slide
\item[Animations: Animation between slides Options: Speed in miliseconds of the animation... : ] 300
\item[Behaviour: Close on Content Click : ] 無効
\item[Behaviour: Close on Overlay Click : ] 有効
\item[Behaviour: Keyboard navigation : ] 有効
\item[Behaviour: Loop Galleries : ] 無効
\item[Behaviour: Mouse Wheel Navigation : ] 有効
\item[Behaviour: Zoom On Click : ] 有効
\item[Behaviour: Woocommerce: Disable on Woocommerce Shop page : ] 無効
\item[Behaviour: Woocommerce: Disable on Woocommerce products : ] 無効
\item[Behaviour: Exclude PDF files : ] 無効
\item[Behaviour: Disable FancyBox on mobile : ] 無効
\item[Galleries: Gallery Type : ] Make a gallery for all images on the page
\end{description}

\subsection{No Right Click Images Pluginの設定}

左サイドバーの「Settings→No Right Click Images」を以下のように設定します。

\begin{description}
\item[Allow Right Click for Logged Users : ] チェックを外す
\item[Disable Dragging of images : ] チェックを入れる
\item[Disable Touch events : ] チェックを入れる
\item[Disable Gesture events : ] チェックを外す
\item[Disable context menu on Apple devices : ] チェックを入れる
\item[Admin can always right click images : ] チェックを入れる
\end{description}

「Save Changes」を押して設定を保存します。

\subsection{bbp Style Packの設定}

左サイドバーの「Settings→bbp Style Pack」を以下のように設定します(記述なしはデフォルトのまま)。
タブごとに「Save changes」を押して設定を保存します。

\begin{description}
\item[Forum Roles: Where to show roles : ] Click to hide roles
\item[Topic Order: 1. Change Default Order: Activate : ] チェックを入れる
\item[Topic Order: 1. Change Default Order: Display Order : ] Title
\item[Topic Order: 1. Change Default Order: Ascending/Descending : ] Ascending
\item[Topic/Reply Form: 6. Notify Default: Click to activate : ] チェックを入れる
\item[Topic/Reply Form: 10. Topic Posting Rules: Click to activate for Topics : ] チェックを入れる
\item[Topic/Reply Form: 10. Topic Posting Rules: Topic Rules text : ] {\textless}p{\textgreater}\\You must add presentation ID to the title.\\Use Insert/edit image" button to insert images.\\Do NOT use "Upload Attachments" to add images.\\{\textless}/p{\textgreater}\\{\textless}p{\textgreater}\\必ず講演IDをタイトル冒頭に付加して下さい。\\画像を挿入するには、「Insert/edit image」ボタンを使用して下さい。\\画像の添付に「Upload Attachments」は使わないで下さい。\\{\textless}/p{\textgreater}
\item[Topic/Reply Form: 10. Topic Posting Rules: Topic Rules text : ] {\textless}p{\textgreater}\\Use Insert/edit image" button to insert images.\\Do NOT use "Upload Attachments" to add images.\\{\textless}/p{\textgreater}\\{\textless}p{\textgreater}\\画像を挿入するには、「Insert/edit image」ボタンを使用して下さい。\\画像の添付に「Upload Attachments」は使わないで下さい。\\{\textless}/p{\textgreater}
\item[Unread posts: Activate unread option : ] チェックを入れる
\item[Unread posts: 5. Hide the 'Mark as Read' Button : ] チェックを入れる
\end{description}

\subsection{Mass Messaging in BuddyPressの設定}

左サイドバーの「Settings→Mass Messaging」を以下のように設定します。
タブごとに「Save Settings」を押して設定を保存します。

\begin{description}
\item[Features: Members: Allow mass messaging to members : ] チェックを入れる
\item[Features: Members: Allow the ability to select all members : ] チェックを入れる
\item[Features: Members: Show all members, not just friends : ] チェックを入れる
\item[Features: Groups: Allow mass messaging to groups : ] チェックを入れる
\item[Features: Groups: Allow the ability to select all groups : ] チェックを外す
\item[Features: Groups: Show all groups, not just those with membership : ] チェックを入れる
\item[Access: Minimum Access : ] No-One
\item[Access: Minimum Group Access : ] Group Admins
\end{description}

\subsection{Democracy Pollの設定}

左サイドバーの「Settings→Democracy Poll」を以下のように設定します。

\begin{description}
\item[Settings: Log data \& take visitor IP into consideration? (recommended) : ] チェックを入れる
\item[Settings: How many days to keep Cookies alive? : ] 365
\item[Settings: HTML tags to wrap the poll title : ] {\textless}strong class="dem-poll-title"{\textgreater} , {\textless}/strong{\textgreater}
\item[Settings: X Polls archive page ID. : ] 空欄
\item[Settings: Global Polls options: How to sort the answers during voting, if they don't have order? (default option) : ] As it was added (by ID)
\item[Settings: Global Polls options: Only registered users allowed to vote (global option) : ] チェックを入れる
\item[Settings: Global Polls options: Prohibit users to add new answers (global Democracy option) : ] チェックを入れる
\item[Settings: Global Polls options: Remove the Revote possibility (global option) : ] チェックを外す
\item[Settings: Global Polls options: Don't show poll results (global option) : ] チェックを外す
\item[Settings: Global Polls options: Don't show poll results link (global option) : ] チェックを外す
\item[Settings: Global Polls options: Hide vote button : ] チェックを外す
\item[Settings: Global Polls options: Dasable post metabox : ] チェックを外す
\item[Settings: Others: Force enable gear to working with cache plugins : ] チェックを外す
\item[Settings: Others: Add styles and scripts directly in the HTML code (recommended) : ] チェックを入れる
\item[Settings: Others: Add plugin menu on the toolbar? : ] チェックを外す
\item[Settings: Others: Add fast Poll insert button to WordPress visual editor (TinyMCE)? : ] チェックを外す
\item[Settings: Others: Check if you see something like "no\_IP\_\_123" in IP column on logs page... : ] チェックを外す
\item[Settings: Others: Role names, except 'administrator' which will have access to manage plugin : ] Editor
\end{description}

「Save Options」を押して設定を保存します。

\subsection{その他の設定}

サイドバーやフォーラムの見た目を整えるためにCSSを編集します。
左サイドバーの「Appearance→Theme Editor」を開きます。
すると、現在設定しているテーマ(推奨通りならSparkling)の「style.css」というファイルの編集画面になるはずです。
もしなっていなければ、右側の「Theme Files」から「style.css」を選択します。
そして、以下の左の項目を右のように編集します。

\begin{tabular}{|c|c|}
\hline
変更前 & 変更後\\\hline
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget \{\\
 ~ ~margin-bottom: 50px;\\
 ~ ~color: \#C1C0C0;\\
 ~ ~overflow: hidden;\\
\}
\end{minipage}
&
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget \{\\
 ~ ~margin-bottom: 50px;\\
 ~ ~color: \#333;\\
\}
\end{minipage}
\\\hline
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget a \{\\
 ~ ~color: \#C1C0C0;\\
\}
\end{minipage}
&
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget a \{\\
 ~ ~color: \#DA4453;\\
\}
\end{minipage}
\\\hline
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget a:hover,\\
\#secondary .widget a:focus \{\\
 ~ ~color: \#DA4453;\\
\}
\end{minipage}
&
\begin{minipage}[t]{0.475\textwidth}
\#secondary .widget a:hover,\\
\#secondary .widget a:focus \{\\
 ~ ~background-color: \#CCC;\\
 ~ ~color: \#333;\\
\}
\end{minipage}
\\\hline
\end{tabular}

さらに、以下の項目を末尾に追記します。

\begin{content}
\#secondary .widget a.logout-link \{\\
 ~ ~color: \#FFF;\\
\}\\
li.bp-groups-tab\#request-membership-groups-li \{\\
 ~ ~display: none !important;\\
\}\\
div.bsp-center \{\\
 ~ ~display: none !important;\\
\}\\
li.bp-personal-sub-tab\#edit-personal-li \{\\
 ~ ~display: none !important;\\
\}\\
li\#wp-admin-bar-edit-profile \{\\
 ~ ~display: none !important;\\
\}\\
li\#wp-admin-bar-my-account-xprofile-edit \{\\
 ~ ~display: none !important;\\
\}\\
li.bbp-topic-voice-count \{\\
 ~ ~display: none !important;\\
\}\\
li.bbp-topic-reply-count \{\\
 ~ ~display: none !important;\\
\}\\
li.bbp-topic-freshness \{\\
 ~ ~display: none !important;\\
\}\\
\#bbp\_log\_topic\_edit \{\\
 ~ ~display: none !important;\\
\}\\
\#bbpress-forums ul.status-closed,\\
\#bbpress-forums ul.status-closed a \{\\
 ~ ~color: \#DA4453 !important;\\
\}\\
li.bbp-forum-info,\\
li.bbp-topic-title \{\\
 ~ ~float: left !important;\\
 ~ ~text-align: left !important;\\
 ~ ~width: 100\% !important;\\
\}\\
\#bbpress-forums div.bbp-forum-author,\\
\#bbpress-forums div.bbp-topic-author,\\
\#bbpress-forums div.bbp-reply-author \{\\
 ~ ~float: none !important;\\
 ~ ~text-align: left !important;\\
 ~ ~width: 0 12px 12px 12px !important;\\
\}\\
\#bbpress-forums div.bbp-topic-author .bbp-author-name,\\
\#bbpress-forums div.bbp-reply-author .bbp-author-name \{\\
 ~ ~clear: left !important;\\
 ~ ~display: inline-block !important;\\
\}\\
\#bbpress-forums div.bbp-forum-content,\\
\#bbpress-forums div.bbp-topic-content,\\
\#bbpress-forums div.bbp-reply-content \{\\
 ~ ~margin-left: 0 !important;\\
 ~ ~padding: 0 !important;\\
 ~ ~text-align: left !important;\\
 ~ ~position: relative !important;\\
\}
\end{content}

編集が終わったら、「Update File」を押して保存します。
なお、編集済みの「style.css」が\url{https://github.com/astanabe/OnlineAnnualMeeting}に置いてあるのでこれをアップロードするだけでも構いませんが、テーマが更新されるとそのまま使えるかどうかはわからないのでご注意願います。

次に、ログインしてない方が非公開ページにアクセスした場合に表示するページを作成します。
左サイドバーから「Pages→Add New」を開きます。

タイトルを「Permission denied」とし、内容として以下のような文章を書いておきます。

\begin{content}
You don't have access permission to this page. Please login to access it.

あなたはこのページへのアクセス権を持っていません。アクセスするには、ログインして下さい。
\end{content}

編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
右上の「Publish」を2回押せばページが保存・公開されます。

ここまでの設定が終わったら、CDNの設定を有効化して下さい。
Kinstaの場合はKinsta CDN、さくらインターネットではウェブアクセラレータという名前で提供されています。

\chapter{実際の運用方法}

\section{大会案内ページの公開}

学会公式サイト上に大会案内ページを作成して公開するのがいいでしょう。
Googleサイトなどの無料Webサイト構築サービスでも構いませんが、大会後に「大会が開催されたこと」、「特定の方が発表あるいは参加したこと」が確認できるWebサイトが存在しないと困ることがあるため、継続性に不安のある無料サービスはおすすめしません。
また、オンライン大会サイト上に大会案内ページを作成することもおすすめしません。
これは、オンライン大会サイトは大会後に閉鎖する前提だからです。
講演要旨集または大会案内をPDFで作成し、どこかに公開しておくことができるのであれば、大会案内ページの保持は必ずしも必要なくなると思いますので、そのようなPDFを学会公式サイト上に公開するのがおすすめです。

\section{参加者の募集}

GoogleフォームやMicrosoft Formsなどのアンケートフォーム作成サービスを利用するのがおすすめです。
どちらのサービスでも無料で容易に大会参加登録用フォームが作成できますが、Office 365ユーザーならMicrosoft Formsの方がExcelなどとの連携は多少楽かもしれません。
どちらのサービスも使いたくない場合、WordPressにContact Form 7というフォーム作成プラグインと、FlamingoというContact Form 7で送信された内容をWordPress内に保存・出力できるプラグインをインストールして使用するといいでしょう。
フォームでは、以下の情報を参加者全員から取得します。

\begin{description}
\item[E-mail address : ] 例：\texttt{meeting2021@hogehoge.hoge}
\item[Alphabetical last name : ] 例：Hogehoge
\item[Alphabetical first name : ] 例：Fugafuga
\item[Alphabetical full name : ] 例：Fugafuga Foo Hogehoge
\item[Alphabetical abbreviated name : ] 例：HogehogeFF
\item[Non-alphabetical full name : ] 例：保毛保毛 不我不我
\item[Alphabetical affiliation : ] 例：Hogehoge University
\item[Alphabetical abbreviated affiliation : ] 例：HogehogeU
\item[Non-alphabetical affiliation : ] 保毛保毛大学
\item[Alphabetical title : ] 例：English title
\item[Non-alphabetical title : ] 例：日本語・中国語・韓国語などの非英語題
\end{description}

なお、E-mailアドレスに携帯電話会社のメールアドレスを使用することは禁止した方がいいでしょう。
こちらからのメールを受信できないことが非常に多いためです。
特にauのメールアドレスは絶対に使用禁止にすべきです。

上記はオンライン大会サイトへのユーザー登録に必要な情報しか挙げていません。
実際の大会運営では、参加種別(一般会員、学生会員、一般非会員、学生非会員、出展・協賛企業など)、日毎に分けて別料金にしたりする場合は参加日、サテライト企画や懇親会がある場合はそれらへの参加の有無など、他にも収集すべき情報はあるでしょうし、最終的な参加費用合計を表示する必要もあるでしょう。
また、代理登録(メールアドレス使用者と参加者が一致しないケース)は一切禁止する必要があります。
オンライン大会サイトへの登録時に参加者に紐付いたメールアドレスが必須となるためです。
海外からの参加者にも配慮するため、名前関連は英語表記に全て統一します(漢字なし)。
オンライン大会サイトではユーザーアカウント名も必要になりますが、これは短縮フルネームと所属の短縮名から自動生成するのがよいでしょう。

上述の情報に基づいて、WordPress上のユーザーの名前に関する属性を以下のように設定することになります。

\begin{description}
\item[display\_name : ] 表示名。「短縮フルネーム (所属の短縮名)」とするのがよいでしょう
\item[nickname : ] display\_nameと同じでよいでしょう
\item[first\_name : ] 名
\item[last\_name : ] 姓
\item[user\_login : ] WordPress内でのユーザー名。「短縮フルネーム\_所属の短縮名」または「フルネームからアルファベット以外除去したもの\_所属の短縮名」にするとよいでしょう
\item[user\_nicename : ] user\_loginを全て小文字にしたもの
\end{description}

さらに、BuddyPressでは「Name」という属性を使用しています。
「Name」の内容は「display\_name」と同じでよいでしょう。

出展企業からの参加者がいる場合、通常の大会参加手続きを行っている方は他の参加者と同等の扱いを行うことになりますが、大会に参加はしない、つまり参加料金を支払っていない出展企業担当者がいることがあります。
この担当者は参加料金を支払っていただいていないので、発表関連のコンテンツへのアクセスは制限することになります。
しかし、開会後に一般参加者からはフォーラムでのtopic新規作成権限を剥奪する形になるのですが、このときに大会に参加している出展企業担当者からも権限を剥奪せざるを得ません。
大会に参加しない出展企業担当者にはtopic新規作成権限を残したまま運用できるので、少なくとも一人、出展企業からは大会に参加しない担当者を出すように依頼して下さい。

なお、参加者には、オンライン大会管理者用メールアドレス\texttt{meeting2021@hogehoge.hoge}からのメールが迷惑メールフィルターに迷惑メールと誤認識されないよう、必ず本メールアドレスをホワイトリストに登録するように周知徹底して下さい。

\section{ユーザーのSite RoleとForum Roleと所属Group}

ユーザーには「Site Role」と「Forum Role」と「所属Group」の3つの属性があります。
「Site Role」と「Forum Role」はユーザーアカウントごとに一つだけです。
「所属Group」はユーザーアカウントごとに複数あり得ます。
「Site Role」と「Forum Role」によって、オンライン大会サイト上でそのユーザーアカウントに許された権限(Capabilities)が決まります。

「Site Role」は管理者と副管理者をAdministratorとし、一般参加者をSubscriberとします(他にもあるが使用しない)。
「Forum Role」は管理者・副管理者をKeymaster、フォーラムのトピック新規作成権限を持つ＝発表者にはPresenter、フォーラムのトピックへの返信権限しかない＝発表しない一般参加者にはCommentatorを利用します。
ただし、口頭発表賞・ポスター賞審査員には開会後に「Forum Role」としてAdjudicatorを与えます(審査を参加者全員の投票方式にするなら不要です)。
また、出展企業の担当者のうち、出展にのみ関与し大会には参加しない(閲覧権限もない)担当者は、「Forum Role」をExhibitorとします(大会にも参加する担当者はCommentator、発表もする担当者はPresenterとします)。
まとめると、「Forum Role」は以下のようになります。

\begin{description}
\item[発表者 : ] Presenter
\item[非発表者 : ] Commentator
\item[審査員 : ] Adjudicator
\item[出展企業担当者(大会不参加) : ] Exhibitor
\item[管理者・副管理者 : ] Keymaster
\end{description}

口頭発表賞とポスター賞で審査員が異なる場合や、小分野ごとに異なる審査員が審査を行う場合、AdjudicatorをAdjudicatorA・AdjudicatorB・AdjudicatorCなどと複数のForum Roleに分ける必要があります。
というのも、審査員用の投票ページのアクセス制御をForum Roleに基づいて行っているためです。
Forum Roleを増やすには、SFTPでアップロードしたbp-custom.phpを編集します。
bp-custom.phpの中のast\_add\_new\_roles・ast\_add\_role\_caps\_filter・ast\_custom\_capabilitiesという3つの関数において、Presenter・Commentator・Adjudicatorの3つのForum Roleが定義されていますので、Adjudicatorを定義している部分をコピー＆ペーストして編集して必要なだけ審査員のForum Roleを増やして下さい。
ただし、大文字を含まない名前の変数は、書き換える際にも大文字を使用しないように注意して下さい。

「所属Group」は、管理者がMass Messaging時に送信先として利用するためのものです。
「全メンバー」、「口頭発表者」、「ポスター発表者」、「出展企業」の4つに分けるのがよいでしょう。
ただし、口頭発表賞がある場合は口頭発表賞候補者グループも作成します。
また、ポスター賞がある場合もポスター賞候補者グループを作成します。
したがって、ユーザーの「所属Group」は以下のようになります。

\begin{description}
\item[口頭発表者で口頭発表賞候補者 : ] All members, Oral presenters, Oral prize candidates
\item[口頭発表者で口頭発表賞非候補者 : ] All members, Oral presenters
\item[ポスター発表者でポスター賞候補者 : ] All members, Poster presenters, Poster prize candidates
\item[ポスター発表者でポスター賞非候補者 : ] All members, Poster presenters
\item[出展企業担当者 : ] All members, Exhibitors
\item[その他参加者 : ] All members
\item[管理者・副管理者 : ] 全グループに所属
\item[審査員 : ] 上記に加えてAdjudicatorに所属
\end{description}

そのほか、学会運営や大会運営に関係する委員会のグループなども必要に応じて作成できます。

グループの作成を行うには、ダッシュボード左サイドバーから「Groups→Groups」を開き、「Add New」を押してグループ新規作成メニューに入ります。
「Group Name (required)」と「Group Description (required)」を入力して「CREATE GROUP AND CONTINUE」を押して次に進みます。
「Privacy Options」は「This is a public group」、「Group Invitations」は「Group admins only」にしておきます(このシステムでは、管理者以外によるグループの作成、ユーザー登録、ユーザーによるグループからの脱退は無効化しておくためです)。
ただし、「Adjudicator」グループは「Privacy Options」を「This is a private group」にしておきます(publicだとメンバー、つまり審査員が誰か見えてしまいます)。
「NEXT STEP」を押すと最後にユーザーの招待画面になりますが、招待は行わないのでそのまま「FINISH」を押して下さい。
これを作成するグループの数だけ繰り返します。

\section{発表プログラム編成}

発表プログラム編成は、各自工夫して行って下さい。
ここでは、全ての口頭発表およびポスター発表コアタイムの会場・開始・終了時刻が確定しており、全ての発表に「英数字で昇順に並び替えれば開始時刻順になる講演ID」が割り振られていると仮定しています。
講演IDは、「講演の種別または小分野を表すアルファベット-講演の順序を表す数字」という形式になっているものとします。

\section{オンデマンド配信用動画の収集・アップロードと埋め込み}

動画ファイルはMP4で作成してもらうのがいいでしょう。
Zoomクライアントで、「設定→ビデオ→「HD」にチェックを入れる」で録画をHD画質に設定し、「ホーム→新規ミーティング」で参加者一人のミーティングを開始し、「レコーディング」を押せば、Zoomミーティングの様子が録画できます。
作成された動画は、参加者から何らかの方法で収集します。
Dropboxの有料アカウントがある場合は、動画ファイルアップロード用フォルダを作成し、その下にさらにユーザーアカウント名のフォルダを作成、そのフォルダを共有するリンクを、参加者のメールアドレスに送信します。
メールを受け取ったユーザーは、Dropboxにアクセスして共有フォルダに動画ファイルをアップロードします。
その際、ファイル名は「講演ID.mp4」とするように予め申し合わせておきます。
VimeoではDopboxからファイルを取り込む機能があるので、アップロード画面の「アップロードするその他の方法」からDropboxを選択して、共有されたファイルをVimeoへ取り込みます。
Dropboxであれば、動画がアップロードされたら自動的にVimeoに取り込む設定も可能です(「設定→アプリの接続→Dropbox→接続」から設定)。
オンデマンド動画の登録を行う参加者が多数の場合、Dropbox APIを使用したプログラムを作成することで、動画ファイルアップロード用フォルダの作成、フォルダを共有するリンクを任意のメールアドレスに送信などの自動化も実現できます。
Vimeoでは、「設定→動画→アップロードのデフォルト」において、動画のデフォルト設定を非公開にしておきます(「誰が動画を視聴できますか？」を「自分のみ」にする)。
また、埋め込みを\url{https://meeting2021.hogehoge.hoge/}に対して許可します(「どこに動画の埋め込みを許可しますか？」を「選択したサイトのみ」にする)。

\section{参加者向け案内ページの作成}

\subsection{プライバシーポリシーページの作成}

ユーザーに権限と制限を明示し、法的な責任を回避するため、プライバシーポリシーページは必須となっています。
ダッシュボード左サイドバーの「Pages→All Pages」で表示される既存ページリストから、「Privacy Policy」を選択して編集画面に入ります。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「privacy-policy.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Update」を押して公開します。

\subsection{全参加者向け案内ページの作成}

全参加者向け案内ページの雛形を以下に示します。
タイトルは「For all participants」として下さい。
ダッシュボード左サイドバーの「Pages→Add New」から作成します。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「for-all-participants.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Publish」を2回押して公開します。

\subsection{口頭発表者向け案内ページの作成}

口頭発表者向け案内ページの雛形を以下に示します。
タイトルは「For oral presenters」として下さい。
ダッシュボード左サイドバーの「Pages→Add New」から作成します。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「for-oral-presenters.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Publish」を2回押して公開します。

\subsection{ポスター発表者向け案内ページの作成}

ポスター発表者向け案内ページの雛形を以下に示します。
タイトルは「For poster presenters」として下さい。
ダッシュボード左サイドバーの「Pages→Add New」から作成します。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「for-poster-presenters.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Publish」を2回押して公開します。

\subsection{出展企業向け案内ページの作成}

出展企業向け案内ページの雛形を以下に示します。
タイトルは「For exhibitors」として下さい。
ダッシュボード左サイドバーの「Pages→Add New」から作成します。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「for-exhibitors.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Publish」を2回押して公開します。

\subsection{オンデマンド動画アップロード方法案内ページの作成}

オンデマンド動画アップロード方法案内ページの雛形を以下に示します。
タイトルは「How to upload videos」として下さい。
ダッシュボード左サイドバーの「Pages→Add New」から作成します。
\url{https://github.com/astanabe/OnlineAnnualMeeting}に「how-to-upload-videos.html」としてWordPress編集画面に貼り付けられるコードを置いてあります。
編集画面右上の「・」が縦に3個並んだボタンで表示されるメニューの中から、「EDITOR」を「Code editor」にして、本文中に上記ファイルの内容を貼り付けることで、簡単に入力することができます。
編集する場合は、「EDITOR」を「Visual editor」に戻せばワードプロセッサのように編集することができます。
編集画面の右サイドバーに「Members only for this page?」という項目があるので開いて、「Allow everyone to access the page」にチェックを入れます。
入力と設定が終わったら、「Publish」を2回押して公開します。

\section{Welcome E-mailの作成}

Welcome E-mailは初回に送信するものと、大会直前になってもアカウントの有効化と初回ログインを行っていない方に送信するものの2種類を用意します。
編集は、ダッシュボードで左サイドバーから「Settings→Welcome Email Editor」を開くことで行なえます。
以下のように設定します。

\begin{description}
\item[General Settings: From Email Address : ] {\lbrack}admin\_email{\rbrack}
\item[General Settings: From Name : ] 空欄
\item[General Settings: Send Email As : ] TEXT
\item[General Settings: Set Global Email Headers : ] Yes
\item[Welcome Email Settings: User Email Subject : ] {\lbrack}{\lbrack}blog\_name{\rbrack}{\rbrack} Welcome to Hogehoge Meeting 2021
\item[Welcome Email Settings: User Email Body : ] 後述
\item[Welcome Email Settings: Attachment URL : ] 空欄
\item[Welcome Email Settings: Additional Email Headers : ] 空欄
\item[Welcome Email Settings: Reply To Email Address : ] {\lbrack}admin\_email{\rbrack}
\item[Welcome Email Admin Notification Settings: Admin Email Subject : ] {\lbrack}{\lbrack}blog\_name{\rbrack}{\rbrack} New User Registration
\item[Welcome Email Admin Notification Settings: Admin Email Body : ] New user registration on your blog {\lbrack}blog\_name{\rbrack}\\
Username: {\lbrack}user\_login{\rbrack}\\
Email: {\lbrack}user\_email{\rbrack}
\item[Welcome Email Admin Notification Settings: Send Admin Email To... : ] 1
\item[User Forgot Password Email Settings: Forgot Password Email Subject : ] {\lbrack}{\lbrack}blog\_name{\rbrack}{\rbrack} Forgot Password
\item[User Forgot Password Email Settings: Forgot Password Message : ] 後述
\end{description}

入力が終わったら「Update Settings」を押して変更を保存します。

\subsection{通常のWelcome E-mail}

\url{https://github.com/astanabe/OnlineAnnualMeeting}に「welcome-email1.txt」として置いてありますので、そこからコピーして貼り付けてご利用下さい。

\subsection{アカウント有効化をいつまでもしない人への再送用Welcome E-mail}

\url{https://github.com/astanabe/OnlineAnnualMeeting}に「welcome-email2.txt」として置いてありますので、そこからコピーして貼り付けてご利用下さい。

\subsection{User Forgot Password E-mail}

\url{https://github.com/astanabe/OnlineAnnualMeeting}に「forgot-password-email.txt」として置いてありますので、そこからコピーして貼り付けてご利用下さい。

\section{ディスカッションフォーラムの作成}

\subsection{口頭発表用フォーラムの作成}

ダッシュボードの左サイドバーから「Forums→Add New」を開きます。
「Add title」欄に「Oral sessions Day1 RoomA」と入力し、「Forum Attributes」を以下のように設定します。

\begin{description}
\item[Forum Attributes: Type : ] Forum
\item[Forum Attributes: Status : ] Open
\item[Forum Attributes: Visibility : ] Public
\item[Forum Attributes: Parent : ] No parent
\item[Forum Attributes: Order : ] 0
\end{description}

「Publish」を押すことでフォーラムが作成されます。
これを必要なだけ繰り返します。
会期が2日間あり、各3会場で並行して口頭セッションを開催すると仮定すると、「Oral sessions Day1 RoomA」から「Oral sessions Day2 RoomC」までの6フォーラムを作成することになります。

\subsection{ポスター発表用フォーラムの作成}

ダッシュボードの左サイドバーから「Forums→Add New」を開きます。
「Add title」欄に「Poster sessions PP001-PP020」と入力し、「Forum Attributes」を以下のように設定します。

\begin{description}
\item[Forum Attributes: Type : ] Forum
\item[Forum Attributes: Status : ] Open
\item[Forum Attributes: Visibility : ] Public
\item[Forum Attributes: Parent : ] No parent
\item[Forum Attributes: Order : ] 0
\end{description}

「Publish」を押すことでフォーラムが作成されます。
これを必要なだけ繰り返します。
ポスター発表が100件あったと仮定すると、「Poster sessions PP001-PP020」から「Poster sessions PP081-PP100」までの5フォーラムを作成することになります。

\subsection{企業展示用フォーラムの作成}

ダッシュボードの左サイドバーから「Forums→Add New」を開きます。
「Add title」欄に「Exhibition CompanyA」と入力し、「Forum Attributes」を以下のように設定します。

\begin{description}
\item[Forum Attributes: Type : ] Forum
\item[Forum Attributes: Status : ] Open
\item[Forum Attributes: Visibility : ] Public
\item[Forum Attributes: Parent : ] No parent
\item[Forum Attributes: Order : ] 0
\end{description}

「Publish」を押すことでフォーラムが作成されます。
これを必要なだけ繰り返します。
企業1社ごとに1フォーラムを割り当てる場合、出展企業の数だけフォーラムを作成することになります。

\section{その他サイトを便利にする機能の実装}

\subsection{タイムテーブル画像の作成とアップロード}

タイムテーブルをExcelなりPowerPointなり適当なベクター画像作成アプリなどで作成し、幅2000ピクセル程度のJPEGまたはPNG画像として出力します。
全日程をカバーする大まかなタイムテーブルと、各日の詳細なタイムテーブルの2種類用意するといいでしょう。
サイドバー内に埋め込むことを想定しているので、縦長より横長にした方がいいでしょう。
サイドバー内に埋め込むことで、サイドバー上の縮小画像をクリックすれば拡大画像がいつでも見られるようになります。

画像ファイルの用意ができたら、ダッシュボードの左サイドバーから「Media→Add New」を選びます。
メディアアップロード画面になるので、「Drop files to upload」と表示されている付近に画像ファイルをドラッグ＆ドロップすると、画像ファイルがアップロードされます。

\subsection{口頭発表・ポスター発表リストページの作成}

要旨とポスター画像は発表者自身にフォーラムに書き込んでもらいますが、ZoomのURLは学会が会場を提供する場合は発表者は把握していませんし(Zoom URLは発表者が自前で用意する場合は別)、VimeoのURLも同様です。
また、フォーラムへの書き込みの際に講演IDが必須なので、これを発表者に周知するためのページが必要です。
発表者に個別にメールで通知していてはきりがないので、メールでは同じ文面を使用し、ここで作成したページから講演IDを自分で探してフォーラムにtopicを立てるようにお願いすることになります。
この発表リストページに必要な項目は以下の通りです。

\begin{itemize}
\item Presentation ID
\item Alphabetical title
\item Non-alphabetical title
\item Alphabetical name of first author
\item Non-alphabetical name of first author
\item Zoom URL
\item Vimeo URL
\end{itemize}

WordPressは表計算ソフトや表計算Webサービスから表を貼り付けることができるので、上記の項目をカラムとして持つ表を作成してクリップボードにコピーし、WordPressのページ編集画面にペーストします。
なお、項目ラベルは後で手動で入力しなくてはならないため、クリップボードへコピーする際に除外しておきます。
また、横幅がありすぎると画面の小さい端末で閲覧しづらくなるため、講演者名は短縮したり、削ってもいいだろうと思います。
演題と講演者名のカラムが半分になるので、英語と日本語を別のページに分けてもいいでしょう。
ZoomやVimeoのURLは、Excel上では「=HYPERLINK("URL","▶")」とセルに入力しておくと、リンクに変換され貼り付けられます。
貼り付けた表にフォーカスがある状態で右サイドバーにある「Styles」で表の表示スタイル変更、「Table settings」でカラムのラベル行を追加できます。
「Header section」を有効化すると第1行にカラムのラベル行が追加されますので、適当に編集して下さい。

\subsection{口頭発表賞・ポスター発表賞審査ページの作成}

ダッシュボードの左サイドバーから、「Settings→Democracy Poll」を選択します。
「Polls List」タブには、サンプルの投票内容が登録されていますが、これは削除してしまって構いません。
「Add new poll」タブに移ると、新規の投票内容の作成画面になります。
ここで以下のように設定します。

\begin{description}
\item[Question : ] Which presentation is the best?
\item[Answers : ] 審査対象の演題を入力
\item[Allow users to add answers (democracy). : ] チェックを外す
\item[Activate this poll. : ] チェックを入れる
\item[Allow to choose multiple answers. : ] チェックを入れて数値を増減
\item[Date, when poll was/will be closed. Format: dd-mm-yyyy. : ] 投票締切日を指定(手動で操作できるので長めにする)
\item[Allow to change mind (revote). : ] チェックを入れる
\item[Only registered users allowed to vote. : ] チェックを入れる
\item[Allow to watch the results of the poll. : ] チェックを外す
\item[How to sort the answers during the vote? : ] As it was added (by ID)
\item[Note: This text will be added under poll. : ] You can cast up to X votes. Revote is allowed.\\一人あたりX票投票できます。投票やり直しも可能です。
\end{description}

設定後に「Add Poll」で投票内容が登録されます。
口頭発表賞とポスター賞など、賞が複数ある場合は必要なだけ上記の操作を繰り返します。
「Polls List」タブを表示し、追加した投票内容の「Question」上にマウスポインタを重ねると、「{\lbrack}democracy id="X"{\rbrack}」と表示されるので、この数値をメモしておきます。

投票内容の登録ができたら、投票ページを作ります。
ダッシュボード左サイドバーから「Pages→Add New」を選択します。
「Add title」欄に「Presentation Award」と入力し、本文中に「{\lbrack}democracy id="X"{\rbrack}」(Xは先程メモした番号)と入力し、「Publish」を2回押すとページが作成されます。

これだけでは、大会参加者全員が投票できます。
一部の審査員のみに投票権を制限したい場合、Content Controlプラグインを使います。
ダッシュボード左サイドバーの「Settings→Content Control」を選択します。
「Add a Restriction」を押して新規アクセス制限の編集画面に入ります。
以下の通り設定します。

\begin{description}
\item[General: Restriction Title : ] Presentation Award
\item[Who can see this content? : ] Logged In Users
\item[Choose which roles can see this content, leave blank to apply to every role : ] Keymaster・Adjudicatorにチェックを入れる
\item[Choose how to protect your content : ] Redirect
\item[Where will they be taken? : ] Custon URL
\item[Redirect URL : ] \url{https://meeting2021.hogehoge.hoge/permission-denied/}
\item[Content : ] プルダウンメニューから「Is A Selected Page」を選択し、新たに出現する「Select page.」プルダウンメニューから「Presentation Award」を選択
\end{description}

「Add」を押すことでアクセス制限が追加されます。
アクセス制限が追加されたら、「Save Changes」を押して有効化します。
これで、Forum RoleがKeymasterとAdjudicatorの参加者だけが投票できるようになります。

\subsection{大会に参加しない出展企業担当者のアクセス制限}

大会に参加しない、つまり参加料金は支払っていない出展企業担当者がしばしばいることがあります。
この場合、参加料金を支払っている出展企業担当者とは扱いを変える必要があります。
そこで、参加料金は支払っていない出展企業担当者はForum RoleをExhibitorとしていますので、Exhibitorに対してアクセス制限を行います。
具体的には、口頭発表やポスター発表のページにアクセスできなくします。
これには、審査員にのみ投票権を制限したときと同様にContent Controlプラグインを使います。
ダッシュボード左サイドバーの「Settings→Content Control」を選択します。
「Add a Restriction」を押して新規アクセス制限の編集画面に入ります。
以下の通り設定します。

\begin{description}
\item[General: Restriction Title : ] Exhibitor Restriction
\item[Who can see this content? : ] Logged In Users
\item[Choose which roles can see this content, leave blank to apply to every role : ] Exhibitor以外のForum Role、つまりKeymaster・Moderator・Presenter・Commentator・Adjudicatorにチェックを入れる(Site Roleにはチェックを入れない)
\item[Choose how to protect your content : ] Redirect
\item[Where will they be taken? : ] Custon URL
\item[Redirect URL : ] \url{https://meeting2021.hogehoge.hoge/permission-denied/}
\item[Content : ] プルダウンメニューから「Is A Selected Page」を選択し、新たに出現する「Select page.」プルダウンメニューから口頭発表・ポスター発表関連ページを選択(複数選択可能)。「+ OR」を押してOR条件を追加。プルダウンメニューから「Is A Selected Forum」を選択し、新たに出現する「Select forum.」プルダウンメニューから口頭発表・ポスター発表関連フォーラムを選択(複数選択可能)。なお、Pageにはカテゴリを設定して特定カテゴリを「Is A page with Category」から選択しても構いませんが、Forumは親子構造を導入して「Is Forums: Child Of」から親フォーラムを設定しても正常にアクセス制限が働かなかったので、面倒でも一つずつフォーラムを選択します
\end{description}

「Add」を押すことでアクセス制限が追加されます。
アクセス制限が追加されたら、「Save Changes」を押して有効化します。
これで、Forum RoleがKeymaster・Moderator・Presenter・Commentator・Adjudicatorの参加者だけ(つまりExhibitor以外)が口頭発表・ポスター発表に参加できるようになります。

なお、Exhibitorは大会開会後も企業展示用フォーラム内でtopic新規作成などの権限が有効化されます。
その他の参加者はCommentator化・Adjudicator化によって全フォーラムでtopic新規作成ができなくなりますので、開会後の企業展示フォーラムの管理はExhibitorのアカウントしかできなくなります。
そのため、各企業に少なくとも一人分Exhibitorアカウントを発行するようにして下さい。

\subsection{メニューの作成}

トップページのサイトタイトルの横に表示されるのが標準のメニューですが、他にもメニューを作成して、サイドバーに表示させたりすることもできます。
ここでは、標準のメニューとして「Menu」、サイドバー用として「Oral sessions」、「Poster sessions」、「Exhibitions」および「Login/Logout」を作成します。
また、賞の審査員用に賞の種類の数だけ「～ Award」メニューも作成します。
ダッシュボードの左サイドバーから、「Appearance→Menus」を選択して表示します。
「Menu structure」を以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Menu
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを入れる
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

作成したメニューにリンクを追加するため、「Add menu items」から「Pages」内にある「For oral presenters」、「For poster presenters」、「For all participants」、「How to upload videos」にチェックを入れて「Add to Menu」を押すと、「Menu structure」にリンクが表示されます。表示順を入れ替えるには、ドラッグ＆ドロップします。「Save Menu」を押すことで保存されます。

メニューを増やすには、「create a new menu」を押します。
次は以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Oral sessions
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを外す
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

このメニューにはフォーラムへのリンクを追加したいのですが、デフォルトでは「Add menu items」内に表示されていません。そこで、上部にある「Screen Options」を開きます。その中に「Screen elements」を選ぶ場所があるので、全てにチェックを入れます。「Add menu items」内に「Forums」が追加されるので、その中にある口頭セッションに全てチェックを入れて「Add to Menu」を押します。各項目を開くと「Navigation Label」が自由に設定できるので、「Oral sessions Day1 RoomA」は「Oral Day1 RoomA{\textless}br /{\textgreater}口頭 第1日 部屋A」にすることで日英併記することができます({\textless}br /{\textgreater}は改行になります)。表示順を適切に並べ替えたら、「Save Menu」を押すことで保存されます。

さらにメニューを増やすため、「create a new menu」を押します。
次は以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Poster sessions
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを外す
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

「Add menu items」内にある「Forums」を展開し、その中にあるポスターセッションに全てチェックを入れて「Add to Menu」を押します。各項目を開くと「Navigation Label」が自由に設定できるので、「Poster sessions PP001-PP020」は「Poster PP001-PP020{\textless}br /{\textgreater}ポスター PP001-PP020」にすることで日英併記することができます({\textless}br /{\textgreater}は改行になります)。表示順を適切に並べ替えたら、「Save Menu」を押すことで保存されます。

さらにメニューを増やすため、「create a new menu」を押します。
次は以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Exhibitions
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを外す
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

「Add menu items」内にある「Forums」を展開し、その中にある企業出展に全てチェックを入れて「Add to Menu」を押します。各項目を開くと「Navigation Label」が自由に設定できるので、「Exhibition CompanyA」は「CompanyA{\textless}br /{\textgreater}A社」にすることで日英併記することができます({\textless}br /{\textgreater}は改行になります)。表示順を適切に並べ替えたら、「Save Menu」を押すことで保存されます。

さらにメニューを増やすため、「create a new menu」を押します。
次は以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Login/Logout
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを外す
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

「Add menu items」内にある「BuddyPress Member」を展開し、「Logged-In」タブ内の「Log Out」および「Logged-Out」タブ内の「Log In」にチェックを入れて「Add to Menu」を押します。各項目を開くと「Navigation Label」が自由に設定できるので、「Log In」は「Login{\textless}br /{\textgreater}ログイン」、「Log Out」は「Logout{\textless}br /{\textgreater}ログアウト」にすることで日英併記することができます({\textless}br /{\textgreater}は改行になります)。表示順を適切に並べ替えたら、「Save Menu」を押すことで保存されます。

さらにメニューを増やすため、「create a new menu」を押します。
次は以下の通り設定して「Create Menu」を押します。

\begin{description}
\item[Menu Name : ] Presentation Award
\item[Menu Settings: Auto add pages: Automatically add new top-level pages to this menu : ] チェックを外す
\item[Menu Settings: Display location: Primary Menu : ] チェックを外す
\item[Menu Settings: Display location: Footer Links : ] チェックを外す
\item[Menu Settings: Display location: Social Menu : ] チェックを外す
\end{description}

「Add menu items」内にある「Pages」を展開し、「Presentation Award」にチェックを入れて「Add to Menu」を押すと、「Menu structure」にリンクが表示されます。項目を開くと「Navigation Label」が自由に設定できるので、「Presentation Award」を「Presentation Award{\textless}br /{\textgreater}発表賞」にすることで日英併記することができます({\textless}br /{\textgreater}は改行になります)。表示順を入れ替えるには、ドラッグ＆ドロップします。「Save Menu」を押すことで保存されます。

\subsection{右サイドバーの編集}

ダッシュボードの左サイドバーから「Appearance→Widgets」を開きます。
「Available Widgets」から「Image」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「Image」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[Image: Title : ] Overview tametable / 全日程概要タイムテーブル
\item[Image: Add Image : ] 「Media Library」から予めアップロードしておいた画像を選択し、「ATTACHMENT DISPLAY SETTINGS」において、「Link To」を「Media File」に、「Size」を「Full Size」に設定して「Add to Widget」を押す
\item[Image: Link to : ] 「Add Image」の操作により入力済み
\item[Image: Who can see this widget? : ] Logged In Users
\item[Image: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

各日の詳細なタイムテーブルもある場合は、同様の作業を繰り返してサイドバーに追加します。

次に、さきほど作成したメニューをサイドバーに加えます。
「Available Widgets」から「Navigation Menu」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「Navigation Menu」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[Navigation Menu: Title : ] Oral sessions / 口頭発表
\item[Navigation Menu: Select Menu : ] Oral sessions
\item[Navigation Menu: Who can see this widget? : ] Logged In Users
\item[Navigation Menu: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

再度「Available Widgets」から「Navigation Menu」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「Navigation Menu」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[Navigation Menu: Title : ] Poster sessions / ポスター発表
\item[Navigation Menu: Select Menu : ] Poster sessions
\item[Navigation Menu: Who can see this widget? : ] Logged In Users
\item[Navigation Menu: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

再度「Available Widgets」から「Navigation Menu」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「Navigation Menu」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[Navigation Menu: Title : ] Exhibitions / 企業出展
\item[Navigation Menu: Select Menu : ] Exhibitions
\item[Navigation Menu: Who can see this widget? : ] Logged In Users
\item[Navigation Menu: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

さらに、いくつか便利なウィジェットをサイドバーに追加します。
「Available Widgets」から「(bbPress) Forum Search Form」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「(bbPress) Forum Search Form」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[(bbPress) Forum Search Form: Title : ] Search Forums / フォーラム検索
\item[(bbPress) Forum Search Form: Who can see this widget? : ] Logged In Users
\item[(bbPress) Forum Search Form: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

「Available Widgets」から「(bbPress) Recent Replies」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「(bbPress) Recent Replies」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[(bbPress) Recent Replies: Title : ] Recent replies / 最近の返信
\item[(bbPress) Recent Replies: Maximum replies to show : ] 20
\item[(bbPress) Recent Replies: Show post date : ] チェックを外す
\item[(bbPress) Recent Replies: Show reply author : ] チェックを入れる
\item[(bbPress) Recent Replies: Who can see this widget? : ] Logged In Users
\item[(bbPress) Recent Replies: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

「Available Widgets」から「(BuddyPress) Who's online」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「(BuddyPress) Who's online」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[(BuddyPress) Who's online: Title : ] Who's Online / 現在オンラインの参加者
\item[(BuddyPress) Who's online: Max members to show : ] 20
\item[(BuddyPress) Who's online: Who can see this widget? : ] Logged In Users
\item[(BuddyPress) Who's online: Choose which roles can see this widget : ] 全てのチェックを外す(ログインユーザーならRoleに関係なく表示)
\end{description}

「Available Widgets」から「Navigation Menu」を開き、追加先として「Sidebar」を選択して「Add Widget」を押します。
「Sidebar」エリアに「Navigation Menu」が追加されるので、以下のように設定して「Save」を押します。

\begin{description}
\item[Navigation Menu: Title : ] Presentation Award / 発表賞
\item[Navigation Menu: Select Menu : ] Presentation Award
\item[Navigation Menu: Who can see this widget? : ] Logged In Users
\item[Navigation Menu: Choose which roles can see this widget : ] Keymaster・Adjudicatorにチェックを入れる
\end{description}

\section{大会開会前の対応}

\subsection{参加者のオンライン大会サイトへのユーザー登録}

Import and export users and customersプラグインを用いることで、CSVファイルで編集したユーザーアカウントを一気に大量に登録・編集が可能です。
一度に登録・編集するアカウント数が100を超えると長時間待たされるため、それ以上の件数の場合はおおよそ100件ずつ行うのがいいでしょう。
このプラグインで読み込ませるCSVファイルには、以下の項目をこの順のカラムで記載します。

\begin{description}
\item[Username : ] WordPress内部ではuser\_loginとして扱われる。ユーザーアカウント名。「alphabetical abbreviated name\_alphabetical abbreviated affiliation」または「alphabetical full name\_alphabetical abbreviated affiliation」にするとよいでしょう
\item[Email : ] WordPress内部ではuser\_emailとして扱われる。E-mailアドレス
\item[Name : ] BuddyPressが表示名として使用するパラメータ。display\_nameと同じでよい
\item[display\_name : ] 表示名。「alphabetical abbreviated name (alphabetical abbreviated affiliation)」とするのがよいでしょう
\item[nickname : ] display\_nameと同じでよい
\item[first\_name : ] 名
\item[last\_name : ] 姓
\item[wp\_capabilities : ] Site RoleとForum Roleを定義しているパラメータ。さくらのレンタルサーバでWordPressインストール時に「テーブルの接頭語」を指定した場合、項目名は「接頭語capabilities」になるので注意。中身はJSON
\item[bp\_group : ] 参加グループ。ただし、グループ名は全小文字化し、スペースはハイフンに置き換えたものになる
\item[bp\_group\_role : ] 参加グループでの役割。Member・Administratorなど
\end{description}

以下に具体例を示します。

\begin{description}
\item[Username : ] HogehogeFF\_HogehogeU
\item[Email : ] \texttt{meeting2021@hogehoge.hoge}
\item[Name : ] HogehogeFF (HogehogeU)
\item[display\_name : ] HogehogeFF (HogehogeU)
\item[nickname : ] HogehogeFF (HogehogeU)
\item[first\_name : ] Fugafuga
\item[last\_name : ] Hogehoge
\item[wp\_capabilities : ] "a:2:\{s:10:""subscriber"";b:1;s:15:""bbp\_commentator"";b:1;\}"
\item[bp\_group : ] "all-members,poster-presenters,poster-prize-candidates"
\item[bp\_group\_role : ] "Member,Member,Member"
\end{description}

wp\_capabilitiesの記述方法は、まず手動で記述方法のわからないSite Role・Forum Roleのユーザーを登録し、Import and export users and customersプラグインでexportしてみることでわかるようになります。
bp\_groupには、参加グループ名のスペースをハイフンに置き換え、さらにアルファベットは全て小文字にした名前をカンマで区切って記述します。

ユーザー情報のexportを行うには、ダッシュボードの左サイドバーから「Tools→Import and export users and customers」を開き、「Export」タブにある「Download」ボタンを押すだけです。
このファイルはテキストエディタで開くことができます。
Excelなどの表計算ソフトでも開けますが、UTF-8なので日本語の文字があると正常に表示できないかもしれません(Excelが日本語の文字コードをShift-JISと仮定しているため)。

CSVからのimportの前に、importでユーザーが追加された場合にWelcome E-mailが送信されるように設定します。
ダッシュボードの左サイドバーから「Tools→Import and export users and customers」を開き、「Mail options」タブにある「User created or edited」の値を「Activate WordPress automatic email when an user is create or edited」にしてから「Save email template and options」を押します。

ユーザー情報をCSVからimportするには、、ダッシュボードの左サイドバーから「Tools→Import and export users and customers」を開き、「Import」タブにある「CSV file (required)」からCSVファイルを選択し、「Start importing」を押します。
正常に終われば、「Results」に「Users processed」と「Users created」と「Users updated」の件数として表示されます。
エラーが起きた場合は、「Errors, warnings and notices found」の件数が0以外になります。

\subsection{発表者にフォーラムへのtopic作成を促す}

発表者には、自分の発表に対応するtopicを対応するフォーラムに作成してもらうことになります。
案内ページを見てくれた発表者は対応してくれるでしょうが、案内ページも見ていない方には何度か促す必要があります。
そこで、Mass Messaging in BuddyPressを使います。
このプラグインを使うと、サイト上の多数のユーザーにメッセージを送信することができます。
メッセージは、サイト上のユーザーアカウントだけでなく、メールでも送信されます。
Mass Messaging in BuddyPressでメッセージを送信するには、右上のユーザー名から「ユーザー名→Messages→Mass Messaging」を開いて表示される画面でメッセージを編集し、送信先のユーザーやグループを選択して「SEND MESSAGE」を押します。
なお、この画面には管理者しかアクセスできません。
Mass Messaging in BuddyPressは古いプラグインでメンテナンスされていないため、この編集画面に入ったり、編集画面から出たりする際にリンクが上手く動作しなくなることがあります。
そのような場合は、ブラウザを操作して再読み込みして下さい。

\subsection{アカウント有効化を促す}

アカウント有効化をいつまでもしない人に有効化を促すメールを送信します。
Welcome E-mailを「アカウント有効化をいつまでもしない人への再送用Welcome E-mail」に切り替えて、管理者としてログインしたまま、\url{https://meeting2021.hogehoge.hoge/wp-admin/?resend_welcomeemail_nologin=1}にアクセスすると、ユーザーの中から一度もログインしていない人を探し出してメールを送信します。
送信後はWelcome E-mailを通常のものに戻しておきます。

\section{大会開会以降}

\subsection{Forum Roleの変更と通知}

まず、Forum RoleがPresenterのユーザーをCommentatorに変更して編集権限を停止します。
ダッシュボード左サイドバーから、「Users→All Users」を選択してユーザーリストを表示します。
「Presenter (X)」(XはPresenterのユーザー数)を押すとPresenterだけが表示されるので、全てのユーザーのチェックボックスにチェックを入れて「Change forum role to...」プルダウンメニューから「Commentator」を選択して「Change」を押します。
これで全員のtopic作成権限が停止されます。

次に、賞の審査員をAdjudicatorに変更します。
これも先程と同様の操作を行います。

変更後、右上のユーザー名から「ユーザー名→Messages→Mass Messaging」を開いて、topicの作成権限を停止したことをAll membersグループ宛に送信して通知します。
また、Adjudicatorグループ宛に賞の審査員向けの投票ページがオープンになったことを通知します。

\subsection{賞の審査締め切り}

ダッシュボード左サイドバーから「Settings→Democracy Poll」を選択します。
「Polls List」に掲載されている投票内容から、締め切るものを選択し、チェックマークのボタンを押します。
これで投票は締め切られ、投票ページに集計結果が表示されます。
また、集計結果の下に表示されるメッセージを編集するため、「Polls List」の投票内容の「Question」上にマウスポインタを重ねると表示されるメニューから「Edit」を開きます。
「Note: This text will be added under poll.」の欄を空欄にして「Save Changes」を押します。

なお、集計結果は見られて問題ないので、アクセス制限を廃止します。
ダッシュボード左サイドバーの「Settings→Content Control」を選択し、アクセス制限のタイトルにマウスポインタを重ねると表示される「Trash」ボタンを押して、さらに「Save Changes」を押すことでアクセス制限が無効化されます。
サイドバーのメニューにも制限がかかっているので解除します。
ダッシュボードの左サイドバーから「Appearance→Widgets」を開き、「Sidebar」内の「Navigation Menu: Presentation Award / 発表賞」を展開して「Choose which roles can see this widget」のチェックを全て外し、「Save」を押します。

\section{公開講演会について}

事前登録した参加者に限定しない公開の講演会がプログラムに含まれる場合、ここで作成したオンライン大会サイトでは扱えません。
オンライン大会には事前登録した参加者、つまりオンライン大会サイトにユーザーアカウントがある人以外は一切アクセスできなくしているためです。
公開のページを用意して、そこに動画を埋め込む程度のことなら可能ですが、ユーザーアカウントのない人にフォーラムへの書き込み権限を与えるような運用はやめた方がいいでしょう。
そのため、公開講演会での質疑応答などの書き込みに関しては、別の方法を用意する必要があります。
これには、YouTube Live、Vimeo Live、Zoom Webinarのいずれかを用いるのがおすすめです。
YouTube Liveでは、専用の質疑応答用入力欄が用意されています。
Vimeo Liveでも同様です。
また、ZoomであればWebinarではQ\&A、Meetingでもチャットが利用できます。
なお、ZoomアプリからYouTube Liveに同時配信する場合、数十秒程度のタイムラグが発生してしまう上、質疑応答会場が複数できてしまいます。
このため、講演会中の質疑に支障が生じる可能性があるので注意して下さい。
このようなケースでは、公開のZoom WebinarかVimeo Liveに一本化するのがおすすめです。

\end{document}
